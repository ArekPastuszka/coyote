{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"forum.js","sourcesContent":["var SCREEN_MD = 1024;\r\n\r\n$(function () {\r\n    function toggleSidebar(flag) {\r\n        $('#btn-toggle-sidebar').toggleClass('sidebar-hidden', !flag);\r\n        $('#sidebar').toggle(flag);\r\n        $('#index').toggleClass('sidebar', flag).children('.btn-watch-xs, .btn-atom-xs, .btn-mark-read-xs').toggleClass('show', !flag);\r\n    }\r\n\r\n    if ($('#sidebar').is(':hidden')) {\r\n        $('#index').children('.btn-watch-xs, .btn-atom-xs, .btn-mark-read-xs').addClass('show');\r\n    }\r\n\r\n    $(document).click(function (e) {\r\n        var container = $('#sidebar, #btn-toggle-sidebar');\r\n\r\n        if ($('#sidebar').css('position') == 'absolute' && !container.is(e.target) && container.has(e.target).length == 0) {\r\n            $('#sidebar').hide();\r\n        }\r\n    });\r\n\r\n    if ($(window).width() <= SCREEN_MD) {\r\n        $('#btn-toggle-sidebar').addClass('sidebar-hidden');\r\n    }\r\n\r\n    $('#btn-toggle-sidebar').click(function () {\r\n        if ($(window).width() <= SCREEN_MD) {\r\n            $('#sidebar').toggle();\r\n\r\n            var handler = function () {\r\n                if ($(window).width() > SCREEN_MD) {\r\n                    if ($('#index').hasClass('sidebar')) {\r\n                        toggleSidebar(true);\r\n                        $(window).unbind('resize', handler);\r\n                    }\r\n                }\r\n            };\r\n\r\n            $(window).unbind('resize', handler).bind('resize', handler);\r\n        }\r\n        else {\r\n            var flag = $('#index').hasClass('sidebar');\r\n            toggleSidebar(!flag);\r\n\r\n            //$.ajax(\r\n            //    {\r\n            //        type: 'POST',\r\n            //        url: baseUrl + 'User/Setting/__save',\r\n            //        data: {'forum_sidebar': !flag},\r\n            //        dataType: 'html',\r\n            //        crossDomain: true,\r\n            //        xhrFields:\r\n            //        {\r\n            //            withCredentials: true\r\n            //        }\r\n            //    });\r\n        }\r\n    });\r\n\r\n    $('.toggle[data-toggle=\"collapse\"]').click(function() {\r\n        $(this).toggleClass('in');\r\n    });\r\n});\r\n"],"sourceRoot":"/source/"}